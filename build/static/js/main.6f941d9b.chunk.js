(this["webpackJsonpdisease-searcher"]=this["webpackJsonpdisease-searcher"]||[]).push([[0],{30:function(e,t,s){},31:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},41:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),i=s.n(a),r=s(21),l=s.n(r),c=(s(30),s(8)),o=s(9),h=s(11),d=s(10),u=s(22),m=s(2),p=(s(31),s(13)),b=s.n(p),g=s(17),f="http://rdf.disgenet.org/sparql/";function v(){return(v=Object(g.a)(b.a.mark((function e(t,s){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"https://id.nlm.nih.gov/mesh/sparql?query=","&format=JSON&year=current&limit=50&offset=0&inference=true",n=encodeURIComponent('PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\n\t\t    PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n            PREFIX owl:<http://www.w3.org/2002/07/owl#>\n            PREFIX meshv:<http://id.nlm.nih.gov/mesh/vocab#>\n\n            SELECT ?dId ?mId ?label ?comment\n            FROM <http://id.nlm.nih.gov/mesh>\n            WHERE {\n\t\t\t\t?descriptor a meshv:Descriptor;\n\t\t\t\t\t\tmeshv:identifier ?dId;\n\t\t\t\t\t\trdfs:label ?label;\n\t\t\t\t\t\tmeshv:active 1;\n\t\t\t\t\t\tmeshv:preferredConcept ?concept;\n\t\t\t\t\t\tmeshv:treeNumber ?treeId.\n              ?concept meshv:identifier ?mId;\n\t\t\t\t\t   meshv:scopeNote ?comment.\n\t\t\t  FILTER(REGEX(str(?treeId), "mesh/[BCF]") ).\n              FILTER(REGEX(?label,"'+t+'","i")).\n\t\t\t}\n\t\t\tGROUP BY ?dId ?mId ?label ?comment\n            ORDER BY ?dId ?mId'),fetch("https://id.nlm.nih.gov/mesh/sparql?query="+n+"&format=JSON&year=current&limit=50&offset=0&inference=true").then((function(e){return e.json()})).then((function(e){s(e.results.bindings,t)}),(function(e){console.log("Error : ",e)}))}catch(a){console.log("somethin went wrong",a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(g.a)(b.a.mark((function e(t,s){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"https://id.nlm.nih.gov/mesh/sparql?query=","&format=JSON&year=current&limit=50&offset=0&inference=true",n=encodeURIComponent('PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\n\t\t    PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>\n            PREFIX owl:<http://www.w3.org/2002/07/owl#>\n            PREFIX meshv:<http://id.nlm.nih.gov/mesh/vocab#>\n\n            SELECT ?dId ?mId ?label ?comment\n            FROM <http://id.nlm.nih.gov/mesh>\n            WHERE {\n\t\t\t\t?descriptor a meshv:Descriptor;\n\t\t\t\t\t\tmeshv:identifier ?dId;\n\t\t\t\t\t\trdfs:label ?label;\n\t\t\t\t\t\tmeshv:active 1;\n\t\t\t\t\t\tmeshv:preferredConcept ?concept;\n\t\t\t\t\t\tmeshv:treeNumber ?treeId.\n              ?concept meshv:identifier ?mId;\n\t\t\t\t\t   meshv:scopeNote ?comment.\n\t\t\t  FILTER(REGEX(str(?treeId), "mesh/[BCF]") ).\n              FILTER(REGEX(?comment,"'+t+'","i")).\n\t\t\t}\n\t\t\tGROUP BY ?dId ?mId ?label ?comment\n            ORDER BY ?dId ?mId'),fetch("https://id.nlm.nih.gov/mesh/sparql?query="+n+"&format=JSON&year=current&limit=50&offset=0&inference=true").then((function(e){return e.json()})).then((function(e){s(e.results.bindings,t)}),(function(e){console.log("Error : ",e)}))}catch(a){console.log("something went wrong",a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,s,n){var a="https://query.wikidata.org/sparql?query="+encodeURIComponent('SELECT DISTINCT ?p ?propLabel ?v ?vLabel WHERE {\n\n    {\n\n      SELECT ?m WHERE {\n        {\n          ?m wdt:P486 ?a .\n          FILTER( ?a = "'+e+'" ).\n        }\n        UNION\n        {\n          ?m wdt:P6694 ?b .\n          FILTER( ?b = "'+t+'" ).\n        }\n        UNION\n        {\n          ?m rdfs:label "'+s+'"@en\n        }\n        UNION\n        {\n          ?m skos:altLabel "'+s+'"@en.\n        }\n      } ORDER BY desc(?a) desc(?b) ?m LIMIT 1\n\n    }\n\n    OPTIONAL {\n    { ?m ?p ?v . } MINUS {\n    ?m ?p ?v\n    FILTER( LANG(?v) != "" && !LANGMATCHES(LANG(?v), "'+n+'") ) .\n    } }\n\n    SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }\n\n    OPTIONAL {\n      ?prop wikibase:directClaim ?p .\n      ?prop rdfs:label ?propLabel.\n      filter(lang(?propLabel) = "'+n+'").\n    }\n\n    OPTIONAL {\n      ?v rdfs:label ?vLabel.\n      FILTER(LANG(?vLabel) = "'+n+'").\n    }\n\n    } ORDER BY ?m ?p');return fetch(a,{headers:{Accept:"application/sparql-results+json"}}).then((function(e){return e.json()})).then((function(e){return e.results.bindings}))}s(33);var O=s.p+"static/media/logo-hexa.d2065947.png",x=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).componentDidMount=function(){n.state.queryParam&&(n.setState({query:n.state.queryParam,searching:!0}),n.fetchData(n.state.queryParam,!1),n.search.value=n.state.queryParam)},n.fetchData=function(e,t){n.setState({loading:!0}),t?function(e,t){j.apply(this,arguments)}(e,n.handleResults):function(e,t){v.apply(this,arguments)}(e,n.handleResults)},n.handleResults=function(e,t){t===n.state.query&&(n.setState({loading:!1}),n.setState({searchResults:e}))},n.handleInputChange=function(){n.setState({query:n.search.value,searchResults:[]}),""===n.search.value?(n.setState({searching:!1}),n.props.history.push("/")):n.fetchData(n.search.value,n.state.reverseSearch)},n.handleKeyDown=function(e){if("Enter"===e.key&&(n.setState({searching:!0}),n.search.blur(),n.props.history.push({pathname:"/",search:"?query="+n.search.value})),"Unidentified"===e.key){n.setState({searching:!0}),n.search.blur();var t=n.state.searchResults;setTimeout((function(){var e=t.find((function(e){return e.label.value.toLowerCase()===n.state.query.toLocaleLowerCase()})),s="/entity/";e&&e.label.value&&(s+=e.label.value+"/",e.dId.value&&(s+=e.dId.value+"/",e.mId.value&&(s+=e.mId.value)));encodeURI(s);n.props.history.push(s)}),200)}},n.handleCheckboxSearch=function(){var e=!n.state.reverseSearch;n.setState({reverseSearch:e}),n.state.searching&&(n.setState({query:n.search.value,searchResults:[]}),""===n.search.value?n.setState({searching:!1}):n.fetchData(n.search.value,e))},n.handleCheckboxVirus=function(){var e=!n.state.virusChecked;n.setState({virusChecked:e})},n.handleTitleClick=function(){n.setState({searching:!1})},n.handleOptionClick=function(){n.setState({showOptions:!n.state.showOptions})},n.handleRedirect=function(e,t){localStorage.setItem("entityDescription",t),n.props.history.push(e)},n.state={searchResults:[],query:"",searching:!1,typing:!1,reverseSearch:!1,virusChecked:!0,showOptions:!1,loading:!1,queryParam:window.location.search.split("=")[1]},n}return Object(o.a)(s,[{key:"handleTyping",value:function(e){this.setState({typing:e})}},{key:"render",value:function(){var e,t,s=this;if(this.state.searchResults.length>0){var a=this.state.searchResults.sort((function(e,t){var n=s.state.query.toLowerCase();if(s.state.reverseSearch){var a=e.comment.value.toLowerCase(),i=t.comment.value.toLowerCase(),r=a.split(n).length-1,l=i.split(n).length-1;if(r<l)return 1;if(r>l)return-1;if(r===l){var c=a.indexOf(n),o=i.indexOf(n);return c<o?-1:c>o?1:0}return 0}var h=e.label.value.toLowerCase(),d=t.label.value.toLowerCase(),u=h.indexOf(n),m=d.indexOf(n);return u<m?-1:u>m?1:0}));e=a.map((function(e){var t=e.label.value,a=e.comment.value;if(s.state.reverseSearch){var r=e.comment.value.toLowerCase().split(s.state.query.toLowerCase());a=r.map((function(e,t){return t===r.length-1?e:Object(n.jsxs)(i.a.Fragment,{children:[e,Object(n.jsx)("span",{className:"bold-desc",children:s.state.query})]},e+t+"ReactFragment")}))}else{var l=e.label.value.toLowerCase().split(s.state.query.toLowerCase());t=l.map((function(e,t){return t===l.length-1?e:Object(n.jsxs)(i.a.Fragment,{children:[e,Object(n.jsx)("span",{className:"bold-desc",children:s.state.query})]},e+t+"ReactFragment")}))}var c="/entity/";t&&(c+=e.label.value+"/",e.dId.value&&(c+=e.dId.value+"/",e.mId.value&&(c+=e.mId.value)));var o=encodeURI(c);return t&&!s.state.loading?Object(n.jsxs)("li",{className:"disease",children:[Object(n.jsx)("h2",{children:e.label.value.charAt(0).toUpperCase()}),Object(n.jsx)("h3",{children:t}),Object(n.jsx)("p",{children:a.length>=200?a.substring(0,200)+"...":a}),Object(n.jsx)("button",{onClick:function(){return s.handleRedirect(o,a)},children:"En savoir plus"})]},e.label.value):Object(n.jsx)(i.a.Fragment,{})})),this.state.typing&&""!==this.state.query&&!this.state.reverseSearch&&(t=a.slice(0,10).map((function(e){if(e.label){var t=e.label.value.toLowerCase(),a=s.state.query.toLowerCase();t.indexOf(a);return Object(n.jsx)("option",{value:t},t)}return Object(n.jsx)(i.a.Fragment,{})})))}else{e=[0,1,2,3,4,5,6,7,8,9].map((function(e){return Object(n.jsx)("li",{className:"disease"},e)}))}return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("div",{className:"searcher-container",style:this.state.searching?{overflow:"scroll"}:{maxHeight:"100vh",overflow:"hidden"},children:Object(n.jsxs)("div",{className:this.state.searching?"search-header topbar":"search-header",children:[Object(n.jsx)("img",{onClick:this.handleTitleClick,src:O,className:"search-logo",alt:"logo"}),Object(n.jsxs)("div",{className:this.state.searching?"search-text-container topbar":"search-text-container",onClick:this.handleTitleClick,children:[Object(n.jsxs)("h2",{className:"search-title",children:["The ",Object(n.jsx)("br",{}),"Disease",Object(n.jsx)("br",{})," Searcher"]}),Object(n.jsx)("p",{children:"By the HexaOne Team"})]}),Object(n.jsxs)("div",{className:this.state.searching?"autocomplete home-search-bar topbar":"autocomplete home-search-bar",children:[Object(n.jsx)("input",{className:"home-search",type:"text",name:"search",id:"search",value:this.state.value,placeholder:"Rechercher une maladie. ex: coronavirus",autoComplete:"off",list:"suggestion-results",ref:function(e){return s.search=e},onKeyDown:this.handleKeyDown,onChange:this.handleInputChange,onFocus:function(){return s.handleTyping(!0)},onBlur:function(){return s.handleTyping(!0)}}),this.state.loading&&!this.state.searching&&""!==this.state.query?Object(n.jsxs)("div",{className:"lds-ellipsis",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]}):Object(n.jsx)(i.a.Fragment,{}),Object(n.jsx)("div",{className:"search-options",onClick:this.handleOptionClick,children:Object(n.jsx)("span",{className:"material-icons blue",children:"tune"})})]}),Object(n.jsxs)("div",{id:this.state.showOptions?"search-options-container":"hidden",className:this.state.searching?"search-options-container topbar":"search-options-container",children:[Object(n.jsxs)("label",{className:"switch",children:[Object(n.jsx)("input",{type:"checkbox",id:"disease",defaultChecked:this.state.reverseSearch,onChange:this.handleCheckboxSearch}),Object(n.jsx)("span",{className:"slider round blue"}),Object(n.jsx)("label",{className:"label",htmlFor:"disease",children:"Reverse Search"})]}),Object(n.jsx)("p",{className:"reverse-description",children:"With reverse search, you can search for a keyword describing the disease and get its name"})]})]})}),this.state.reverseSearch?Object(n.jsx)(i.a.Fragment,{}):Object(n.jsx)("datalist",{id:"suggestion-results",onClick:this.handleKeyDown,children:t}),Object(n.jsx)("div",{className:this.state.searching?"results-container":"",children:this.state.searching&&!this.state.loading&&0===this.state.searchResults.length?Object(n.jsx)("h2",{style:{textAlign:"center"},children:"Pas de r\xe9sultats"}):this.state.searching?Object(n.jsx)("ul",{className:"tilesWrap",children:e},"tilesWrap"):Object(n.jsx)(i.a.Fragment,{})})]})}}]),s}(i.a.Component),I=s(14),C=s(24),E=(s(34),s(35),function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).parseDataAllInfos=function(e,t){for(var s={},n=0;n<e.length;n++){var i=e[n].p,r=i.value;if("uri"===i.type){var l=i.value.split("/");r=(l=l[l.length-1].split("#"))[l.length-1]}var c=e[n].v,o=e[n].vLabel;o.value&&!o.value.startsWith("statement")&&(c=o),"uri"!==c.type&&(s[r]||(s[r]={}),s[r].values?Array.isArray(s[r].values)?s[r].values.push(c):s[r].values=[s[r].values,c]:(s[r].values=[],s[r].values.push(c)),s[r].propLabel||(s[r].propLabel=e[n].propLabel))}var h=Object(C.a)({},a.state.data);h[t]=s,a.setState({data:h,loadingWikidata:!1,language:t})},a.parseDataGenes=function(e){for(var t,s=0;s<e.length;s++){var n=e[s].gene,i=n.value,r=n.value;if("uri"===n.type){var l=n.value.split("/");i=(l=l[l.length-1]).toUpperCase()}var c=e[s].scoreValue.value,o=e[s].description.value;o&&(o=o.substring(1)),t||(t={}),t[i]=[],t[i].push([c,o,r])}var h=!1;a.state.loadingGenes&&void 0===t&&(h=!0,t={}),a.setState({dataGenes:t,loadingGenes:!1,emptyGenes:h})},a.parseDataDisgenetSimilarDiseases=function(e){for(var t={},s=0;s<e.length;s++){var n=e[s].diseaseName2.value,i=e[s].geneName.value,r=e[s].gene.value;if(t||(t={}),!t[n]){var l=e[s].meshURL.value,c=l.split("/");l="/entity/"+n+"/"+(l=c[c.length-1]),t[n]=[],t[n].push(l)}t[n].push([r,i])}for(var o={},h=0,d=!0,u=0,m=Object.entries(t);u<m.length;u++){var p=Object(I.a)(m[u],2),b=p[0],g=p[1];o[t[b].length]||(o[t[b].length]={}),o[t[b].length][b]=g,t[b].length>h&&(h=t[b].length,d=!1)}t=o,a.state.loadingDisgenet&&void 0===t&&(d=!0,t={}),a.setState({dataDisgenetDiseases:t,loadingDisgenet:!1,emptyDisgenet:d,maxGenesCommon:h})},a.changeLanguage=function(){var e="fr"===a.state.language?"en":"fr";a.state.data[e]?a.setState({language:e}):(a.setState({loadingWikidata:!0}),y(a.state.entityIdD,a.state.entityIdM,a.state.entityName,e).then((function(t){return a.parseDataAllInfos(t,e)}))),a.setState({enableSubelementList:!0,needCreateSubelements:!0})},a.handleTitleClick=function(){window.onscroll=null,document.getElementById("root").style.overflow="hidden",a.props.history.push(a.state.homepageLink)},a.identifySubject=function(e){var t;t="fr"===a.state.language?a.state.keywordsFR:a.state.keywordsEN;for(var s=0;s<a.state.keywordsDelete.length;s++)if(e.includes(a.state.keywordsDelete[s]))return-2;for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)if(e.includes(t[n][i]))return n;return-1},a.identifyFormat=function(e,t,s){for(var i=0;i<a.state.formats.length;i++)for(var r=0;r<a.state.formats[i].length;r++)if(e.includes(a.state.formats[i][r]))switch(i){case 0:return Object(n.jsx)("img",{src:e,alt:""},t+s);case 1:return Object(n.jsx)("video",{src:e},t+s)}return e.startsWith("http")?Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:e,children:e},t+s)},t+s+"p"):Object(n.jsx)("p",{children:e.charAt(0).toUpperCase()+e.slice(1)},t+s)},a.handleMenuClick=function(e,t){for(var s=e.target.closest(".menu-element"),n=document.getElementsByClassName("menu-element"),i=-1,r=0;r<n.length;r++)if(n[r]===s){i=r;break}var l=document.getElementsByClassName("info-table"),c=document.getElementsByTagName("nav")[0].offsetHeight+20;if(-1===t){window.scrollTo({top:l[i].getBoundingClientRect().top+window.scrollY-c});for(var o=a.highlightVisibleElement(),h=Array.from(document.getElementsByClassName("subelement-list")),d=!0,u=0;u<h.length;u++)if("none"!==h[u].style.display){d=!1;break}!o||d?(a.setState({enableSubelementList:!0}),a.displaySubelementList()):(a.setState({enableSubelementList:!1}),h.forEach((function(e){e.style.display="none"})))}else{var m=l[i].childNodes[1].childNodes[0];window.scrollTo({top:m.childNodes[t].getBoundingClientRect().top+window.scrollY-c})}},a.handleScroll=function(){a.highlightVisibleElement(),a.state.enableSubelementList&&a.displaySubelementList();var e=document.getElementsByTagName("nav");e&&e[0]&&(window.scrollY>=50?(e[0].classList.add("minimized"),document.getElementById("menu").style.top="76px"):76===e[0].offsetHeight&&(e[0].classList.remove("minimized"),document.getElementById("menu").style.top="171px"))},a.state={loadingGenes:!0,loadingWikidata:!0,loadingDisgenet:!0,emptyDisgenet:!0,emptyGenes:!0,emptyPresentation:!1,emptyOtherInfos:!1,emptyIdentification:!1,entityIdD:a.props.match.params.idD,entityIdM:a.props.match.params.idM,entityName:a.props.match.params.name,data:{},dataGenes:{},dataDisgenetDiseases:{},notFound:!1,notFoundGenes:!1,language:"fr",homepageLink:"http://localhost:3000",titlesTablesFrench:["Pr\xe9sentation g\xe9n\xe9rale","Autres informations","G\xe8nes associ\xe9s","Maladies similaires","G\xe8ne - Score","Description","Maladies","G\xe8nes associ\xe9s"],titlesTablesEnglish:["General presentation","Other informations","Associated gene","Similar Disease","Gene - Score","Description","Diseases","Shared genes"],keywordsEN:[["ID","ICD","MeSH tree code","UMLS CUI","DiseasesDB","PubMed Health"],["health specialty","subclass of","instance of","Commons category","altLabel","label","description"]],keywordsFR:[["identifiant","UMLS CUI","arborescence MeSH","ICD","CIM","eMedicine"],["cat\xe9gorie","nature de l'\xe9l\xe9ment","sp\xe9cialit\xe9 m\xe9dicale","sous-classe de","label","description"]],keywordsDelete:["timestamp","identifiers","sitelinks","statements","version","dateModified"],formats:[[".jpg",".jpeg",".png",".gif",".svg",".JPG",".JPEG",".PNG",".GIF",".SVG"],[".mp4",".wav"]],enableSubelementList:!0,needCreateSubelements:!0,subelementsCreation:!1,maxGenesCommon:0},window.onscroll=a.handleScroll,a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.state.language;y(this.state.entityIdD,this.state.entityIdM,this.state.entityName,t).then((function(s){return e.parseDataAllInfos(s,t)})),function(e){var t=f+"?query="+encodeURIComponent("\n  SELECT DISTINCT ?gene ?geneName ?disease2 ?diseaseName2 ?meshURL\n  WHERE {\n    ?gda sio:SIO_000628 ?disease,?gene .\n          ?disease skos:exactMatch <http://id.nlm.nih.gov/mesh/"+e+'> .\n    ?gda2 sio:SIO_000628 ?disease2,?gene .\n    ?disease dcterms:title ?diseaseName .\n    ?disease2 dcterms:title ?diseaseName2 .\n          ?disease2 skos:exactMatch ?meshURL.\n  ?gene dcterms:title ?geneName.\n    FILTER regex(?gene, "ncbigene")\n    FILTER regex(?disease, "umls/id")\n    FILTER regex(?disease2, "umls/id")\n          FILTER regex(?meshURL, ".gov/mesh")\n    FILTER (?disease != ?disease2)\n    FILTER (?gda != ?gda2)\n  }\n\n  LIMIT 500\n');return fetch(t,{headers:{Accept:"application/sparql-results+json"}}).then((function(e){return e.json()})).then((function(e){return e.results.bindings}))}(this.state.entityIdD).then((function(t){return e.parseDataDisgenetSimilarDiseases(t)})),function(e){var t=f+"?query="+encodeURIComponent("SELECT DISTINCT ?gene ?scoreValue (SAMPLE(?desc) AS ?description)\n\t\t\tWHERE {\n\t\t\t\t?disease skos:exactMatch <http://id.nlm.nih.gov/mesh/"+e+'>.\n\t\t\t\t?gda sio:SIO_000628 ?disease, ?gene;\n\t\t\t\tsio:SIO_000216 ?score;\n\t\t\t\tdcterms:description ?desc.\n\t\t\t\t?score sio:SIO_000300 ?scoreValue.\n\t\t\t\tFILTER(?gene != ?disease).\n\t\t\t\tFILTER(langmatches(lang(?desc),"en")).\n\t\t\t} GROUP BY ?gene ?scoreValue ORDER BY DESC(?scoreValue) LIMIT 10');return fetch(t,{headers:{Accept:"application/sparql-results+json"}}).then((function(e){return e.json()})).then((function(e){return e.results.bindings}))}(this.state.entityIdD).then((function(t){return e.parseDataGenes(t)}))}},{key:"adaptLastBorder",value:function(){Array.from(document.getElementsByClassName("no-bottom-border")).forEach((function(e){e.classList.remove("no-bottom-border")})),Array.from(document.getElementsByTagName("dl")).forEach((function(e){var t,s=[],n=[];e.childNodes.forEach((function(e){"DT"===e.tagName?s.push(e):"DD"===e.tagName&&n.push(e)}));for(var a=s.length-1;a>=0;a--)if(!s[a].classList.contains("sm-item")){t=a;break}t!==s.length-1&&(s.length-1-t)%2===0||!s[s.length-1]?s[s.length-1]&&s[s.length-2]&&(s[s.length-1].classList.add("no-bottom-border"),n[s.length-1].classList.add("no-bottom-border"),s[s.length-2].classList.add("no-bottom-border"),n[s.length-2].classList.add("no-bottom-border")):(s[s.length-1].classList.add("no-bottom-border"),n[s.length-1].classList.add("no-bottom-border"))}))}},{key:"componentDidUpdate",value:function(){this.state.loadingDisgenet||this.state.loadingWikidata||this.state.loadingGenes||this.state.subelementsCreation||(this.state.needCreateSubelements&&(this.setState({subelementsCreation:!0}),this.clearSubelementLists(),this.createSubelementLists()),this.adaptLastBorder(),this.highlightVisibleElement(),this.state.enableSubelementList&&this.displaySubelementList(),this.adaptMenuWidth())}},{key:"highlightVisibleElement",value:function(){var e=document.querySelector(".highlight");e&&e.classList.remove("highlight");var t=Array.from(document.getElementsByClassName("info-table")),s=[];t.forEach((function(e){s.push(e.getBoundingClientRect().top)}));var n,a=0,i=document.getElementsByTagName("nav")[0];i&&(n=i.offsetHeight+40);for(var r=s.length-1;r>0;r--)if(s[r]<n){a=r;break}var l=document.querySelectorAll("#menu .menu-element > p");if(l&&l[a])return l[a].classList.add("highlight"),l[a]===e}},{key:"clearSubelementLists",value:function(){for(var e=document.getElementsByClassName("subelement-list"),t=0;t<e.length;t++)e[t].innerHTML=null}},{key:"createSubelementLists",value:function(){for(var e=this,t=document.getElementsByTagName("dl"),s=document.getElementsByClassName("subelement-list"),n=0;n<t.length;n++)for(var a=t[n].childNodes,i=function(t){if("DT"===a[t].tagName){var i=document.createElement("LI");i.innerHTML=a[t].textContent,i.onclick=function(s){return e.handleMenuClick(s,t)},s[n].appendChild(i)}},r=0;r<a.length;r++)i(r);this.setState({needCreateSubelements:!1,subelementsCreation:!1})}},{key:"displaySubelementList",value:function(){Array.from(document.getElementsByClassName("subelement-list")).forEach((function(e){e.style.display="none"}));var e=document.querySelector(".highlight ~ .subelement-list");e&&(e.style.display="inline")}},{key:"adaptMenuWidth",value:function(){var e=Array.from(document.querySelectorAll(".menu-element > p ")),t=-1;e.forEach((function(e){e.offsetWidth>t&&(t=e.offsetWidth)}));var s=document.getElementById("menu"),n=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-left").split("px")[0]),a=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-right").split("px")[0]);t+=n+a,s.style.width=t+"px"}},{key:"render",value:function(){var e=this;document.getElementById("root").style.overflow="visible";var t,s=[],a=[],r=[],l=[],c=[];if(t="fr"===this.state.language?this.state.titlesTablesFrench:this.state.titlesTablesEnglish,this.state.loadingDisgenet||this.state.loadingWikidata||this.state.loadingGenes)return Object(n.jsx)("div",{className:"bb"});if(this.state.notFound)return Object(n.jsx)("h1",{children:"R\xe9sultats non trouv\xe9s"});var o="fr"===this.state.language?this.state.data.fr:this.state.data.en,h=this.state.dataGenes,d=[],u=Object(n.jsx)("dt",{className:"headerDisease",children:t[4]},"header"),m=Object(n.jsx)("p",{className:"headerDisease",children:t[5]},t[5]);d.push(m);var p=i.a.createElement("dd",{key:"headerDef"},d);l.push(u),l.push(p);for(var b=0,g=Object.entries(h);b<g.length;b++){var f=Object(I.a)(g[b],2),v=f[0],j=f[1],y=Object(n.jsxs)("dt",{children:[Object(n.jsx)("a",{href:j[0][2],children:v},v+j[0][0])," ","- ",Object(n.jsx)("b",{children:"Score :"})," ",j[0][0]]},v),x=Object(n.jsx)("dd",{children:j[0][1]},v+"Def");l.push(y),l.push(x)}var C=this.state.dataDisgenetDiseases,E=10;d=[],u=Object(n.jsx)("dt",{className:"headerDisease",children:t[6]},"header"),m=Object(n.jsx)("p",{className:"headerDisease",children:t[7]},t[7]),d.push(m),p=i.a.createElement("dd",{key:"headerDef"},d),c.push(u),c.push(p);for(var N=this.state.maxGenesCommon;N>=0;N--)if(C[N]){for(var S=0,w=Object.entries(C[N]);S<w.length;S++){var L=Object(I.a)(w[S],2),k=L[0],D=L[1];if(E<=0)break;for(var R=[],T=Object(n.jsx)("dt",{children:Object(n.jsx)("a",{href:D[0],children:k.charAt(0).toUpperCase()+k.slice(1)},k+D[0])},k),F=1;F<D.length;F++){var M=Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:D[F][0],children:D[F][1].charAt(0).toUpperCase()+D[F][1].slice(1)},k+F)},k+D[F][0]);R.push(M)}var q=i.a.createElement("dd",{key:k+"Def"},R);c.push(T),c.push(q),E--}if(E<=0)break}for(var G=0,P=Object.entries(o);G<P.length;G++){var B=Object(I.a)(P[G],2),A=B[0],U=B[1],W=[],H=void 0,X=void 0,V=-1;if(A.startsWith("P")){for(var Y=0;Y<U.values.length;Y++){var J=this.identifyFormat(U.values[Y].value,A,Y);W.push(J)}if(U.propLabel){var _=this.identifySubject(U.propLabel.value);-1!==_&&(V=_),H=Object(n.jsx)("dt",{children:U.propLabel.value.charAt(0).toUpperCase()+U.propLabel.value.slice(1)},A)}else H=Object(n.jsx)("dt",{children:A.charAt(0).toUpperCase()+A.slice(1)},A);X=i.a.createElement("dd",{key:A+"Def"},W)}else{for(var K=0;K<U.values.length;K++){var z=this.identifyFormat(U.values[K].value,A,K);W.push(z)}H=Object(n.jsx)("dt",{children:A.charAt(0).toUpperCase()+A.slice(1)},A),X=i.a.createElement("dd",{key:A+"Def"},W)}var Q=this.identifySubject(A);switch(-1!==Q&&(V=Q),V){case 0:a.push(H),a.push(X);break;case 1:r.push(H),r.push(X);break;case-1:s.push(H),s.push(X);break;case-2:break;default:console.log("Error in switch subject")}}var Z=i.a.createElement("dl",{className:"grid-container"},s),$=i.a.createElement("dl",{className:"grid-container"},a),ee=i.a.createElement("dl",{className:"grid-container"},r),te=[];if(this.state.emptyGenes)te=null;else{var se=i.a.createElement("dl",{className:"grid-container"},l);te=Object(n.jsxs)("div",{className:"info-table",children:[Object(n.jsx)("div",{className:"info-table-header",children:Object(n.jsx)("h1",{children:t[2].toUpperCase()})}),Object(n.jsx)("div",{className:"info-table-body",children:se})]})}var ne,ae,ie,re=[];if(this.state.emptyDisgenet)re=null;else{var le=i.a.createElement("dl",{className:"grid-container"},c);re=Object(n.jsxs)("div",{className:"info-table",children:[Object(n.jsx)("div",{className:"info-table-header",children:Object(n.jsx)("h1",{children:t[3].toUpperCase()})}),Object(n.jsx)("div",{className:"info-table-body",children:le})]})}return 0===r.length?(this.state.emptyPresentation||this.setState({emptyPresentation:!0}),ne=null):ne=Object(n.jsxs)("div",{className:"info-table",children:[Object(n.jsx)("div",{className:"info-table-header",children:Object(n.jsx)("h1",{children:t[0].toUpperCase()})}),Object(n.jsx)("div",{className:"info-table-body",children:ee})]}),0===s.length?(this.state.emptyOtherInfos||this.setState({emptyOtherInfos:!0}),ae=null):ae=Object(n.jsxs)("div",{className:"info-table",children:[Object(n.jsx)("div",{className:"info-table-header",children:Object(n.jsx)("h1",{children:t[1].toUpperCase()})}),Object(n.jsx)("div",{className:"info-table-body",children:Z})]}),0===a.length?(this.state.emptyIdentification||this.setState({emptyIdentification:!0}),ie=null):ie=Object(n.jsxs)("div",{className:"info-table",children:[Object(n.jsx)("div",{className:"info-table-header",children:Object(n.jsx)("h1",{children:"IDENTIFICATION"})}),Object(n.jsx)("div",{className:"info-table-body",children:$})]}),Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("nav",{children:Object(n.jsxs)("div",{id:"nav-container",children:[Object(n.jsxs)("div",{id:"nav-text",onClick:this.handleTitleClick,title:"Go to homepage",children:[Object(n.jsxs)("h2",{children:["The ",Object(n.jsx)("br",{}),"Disease",Object(n.jsx)("br",{})," Searcher"]}),Object(n.jsx)("p",{children:"By the HexaOne Team"})]}),Object(n.jsx)("img",{onClick:this.handleTitleClick,src:O,id:"logo",alt:"logo",title:"Go to homepage"}),Object(n.jsx)("button",{id:"language",onClick:this.changeLanguage,children:this.state.language})]})}),Object(n.jsxs)("div",{id:"content-container",children:[Object(n.jsx)("div",{id:"menu",children:Object(n.jsxs)("ul",{children:[this.state.emptyPresentation?null:Object(n.jsxs)("li",{className:"menu-element",children:[Object(n.jsx)("p",{onClick:function(t){e.handleMenuClick(t,-1)},children:t[0]}),Object(n.jsx)("ul",{className:"subelement-list"})]}),this.state.emptyOtherInfos?null:Object(n.jsxs)("li",{className:"menu-element",children:[Object(n.jsx)("p",{onClick:function(t){e.handleMenuClick(t,-1)},children:t[1]}),Object(n.jsx)("ul",{className:"subelement-list"})]}),this.state.emptyGenes?null:Object(n.jsxs)("li",{className:"menu-element",children:[Object(n.jsx)("p",{onClick:function(t){e.handleMenuClick(t,-1)},children:t[2]}),Object(n.jsx)("ul",{className:"subelement-list"})]}),this.state.emptyDisgenet?null:Object(n.jsxs)("li",{className:"menu-element",children:[Object(n.jsx)("p",{onClick:function(t){e.handleMenuClick(t,-1)},children:t[3]}),Object(n.jsx)("ul",{className:"subelement-list"})]}),this.state.emptyIdentification?null:Object(n.jsxs)("li",{className:"menu-element",children:[Object(n.jsx)("p",{onClick:function(t){e.handleMenuClick(t,-1)},children:"Identification"}),Object(n.jsx)("ul",{className:"subelement-list"})]})]})}),Object(n.jsxs)("div",{id:"info-table-container",children:[ne,ae,te,re,ie]})]})]})}}]),s}(a.Component)),N=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(n.jsx)(u.a,{children:Object(n.jsxs)(m.d,{children:[Object(n.jsx)(m.b,{path:"/",component:x,exact:!0}),Object(n.jsx)(m.b,{path:"/entity/:name/:idD?/:idM?",component:E,exact:!0}),Object(n.jsx)(m.a,{to:"/"})]})})}}]),s}(a.Component),S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,42)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))};l.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),S()}},[[41,1,2]]]);
//# sourceMappingURL=main.6f941d9b.chunk.js.map